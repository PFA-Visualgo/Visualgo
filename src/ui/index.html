<!doctype html>

<html>

<head>
    <!-- Recommended meta tags -->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width,initial-scale=1.0">

    <title>Visualgo</title>

    <!-- Allow usage of SharedArrayBuffer -->
    <script src="../mini-coi.js" scope="./"></script>

    <!-- PyScript CSS -->
    <link rel="stylesheet" href="https://pyscript.net/releases/2024.2.1/core.css">

    <!-- This script tag bootstraps PyScript -->
    <script type="module" src="https://pyscript.net/releases/2024.2.1/core.js"></script>

    <!-- Page CSS -->
    <link rel="stylesheet" href="./style.css" />

    <!-- Add icon library -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="icon" href="./icon.ico">

    <!-- Drawing library -->
    <script src="./primitives.js"></script>
    <script src="./draw_data.js"></script>

    <!-- Python button calls -->
    <script src="ui_public_functions.js"></script>

    <!-- Editor -->
    <link rel="stylesheet" href="editor.css">
    <script src="editor.js"></script>

</head>

<body>

    <header>
        <div id="menuBar">
            <div class="dropdown" id="fileDropdown">
                <button class="menuButton" id="fileButton">File</button>
                <div class="dropdownContent">
                    <button id="fileOpenButton">Open</button>
                    <button id="fileDownloadButton">Download</button>
                    <button id="fileExportButton">Export as CSV</button>
                </div>
            </div>
            <div class="dropdown" id="selectDropdown">
                <button class="menuButton" id="selectButton">Select</button>
                <div class="dropdownContent">
                    <button id="selectVariablesButton">Variables</button>
                    <button id="selectFunctionsButton">Functions</button>
                </div>
            </div>
        </div>
    </header>

    <div id="main" style="display:flex;flex-direction: row; border:1px solid grey; height: 80vh;">
        <div id="codeContainer" style="width:850px;height:600px;border:1px solid grey; display: flex;">

            <div id="breakpointContainer" style="width:20px;overflow:hidden;resize: none; border: none; outline: none;">
            </div>
            <div id="indices" style="width:50px;overflow:hidden;resize: none; border: none; outline: none;"></div>
            <div id="code" contenteditable="true" spellcheck="false"></div>
            <div id="highlightedCode" spellcheck="false"></div>
            <div id="suggestions"></div>


        </div>
        <div id="canvasContainer" style="overflow: auto;"></div>
    </div>

    <div style="margin-top: 10px; width:30vw; display: flex; justify-content: center;">
        <button class="playButton" id="nextBackwardButton"><i class="fa fa-fast-backward"></i></button>
        <button class="playButton" id="stepBackwardButton"><i class="fa fa-step-backward"></i></button>
        <button class="playButton" id="pauseButton"><i class="fa fa-pause"></i></button>
        <button class="playButton" id="startButton"><i class="fa fa-play"></i></button>
        <button class="playButton" id="stepForwardButton"><i class="fa fa-step-forward"></i></button>
        <button class="playButton" id="nextForwardButton"><i class="fa fa-fast-forward"></i></button>
    </div>

    <script>

    </script>
    <script>
        createCanvas("canvasContainer", window.innerWidth * 3 / 5, window.innerHeight * 4 / 5, "canvas");
        background("#AAAAAA");
        ///let transfertVars = [array1, linkedList1];
        //update_variables(transfertVars);
    </script>

    <!-- JavaScript button interactions -->
    <script src="button.js"></script>
    <script>
        initEditor();
    </script>

    <!-- Pyscript button interactions-->
    <py-env>
        <script type="py" src="../wasm-scripts/main.py" config="../pyscript/pyscript.json"></script>
        <script type="py" id="worker" src="../wasm-scripts/bdb_worker.py" config="../pyscript/pyscript.json"
            worker></script>
    </py-env>

</body>

</html>